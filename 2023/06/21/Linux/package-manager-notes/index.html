<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>包管理器 | MyBlog</title><meta name="author" content="illyber"><meta name="copyright" content="illyber"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="apt仓库分类Ubuntu 的仓库分类：  Main - Canonical 支持的自由开源软件。 Universe - 社区维护的自由开源软件。 Restricted - 设备的专有驱动程序。 Multiverse - 受版权或法律问题限制的软件。  Debian 的仓库分类：  free contri non-free  设置软件源12345678sudo apt edit-sources&#x2F;e">
<meta property="og:type" content="article">
<meta property="og:title" content="包管理器">
<meta property="og:url" content="https://illyber.github.io/2023/06/21/Linux/package-manager-notes/index.html">
<meta property="og:site_name" content="MyBlog">
<meta property="og:description" content="apt仓库分类Ubuntu 的仓库分类：  Main - Canonical 支持的自由开源软件。 Universe - 社区维护的自由开源软件。 Restricted - 设备的专有驱动程序。 Multiverse - 受版权或法律问题限制的软件。  Debian 的仓库分类：  free contri non-free  设置软件源12345678sudo apt edit-sources&#x2F;e">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://illyber-images.oss-cn-chengdu.aliyuncs.com/kuroyukihime-3.jpg">
<meta property="article:published_time" content="2023-06-21T14:18:18.942Z">
<meta property="article:modified_time" content="2023-07-05T05:25:26.756Z">
<meta property="article:author" content="illyber">
<meta property="article:tag" content="package manager">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://illyber-images.oss-cn-chengdu.aliyuncs.com/kuroyukihime-3.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://illyber.github.io/2023/06/21/Linux/package-manager-notes/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.min.js',
      css: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '包管理器',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-05 13:25:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://illyber-images.oss-cn-chengdu.aliyuncs.com/kuroyukihime-3.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/todo/"><i class="fa-fw fas fa-list-alt"></i><span> ToDo</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://illyber-images.oss-cn-chengdu.aliyuncs.com/kuroyukihime-2.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="MyBlog"><span class="site-name">MyBlog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/todo/"><i class="fa-fw fas fa-list-alt"></i><span> ToDo</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">包管理器</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-21T14:18:18.942Z" title="发表于 2023-06-21 22:18:18">2023-06-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-05T05:25:26.756Z" title="更新于 2023-07-05 13:25:26">2023-07-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/linux/">linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="包管理器"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="apt"><a href="#apt" class="headerlink" title="apt"></a>apt</h1><h2 id="仓库分类"><a href="#仓库分类" class="headerlink" title="仓库分类"></a>仓库分类</h2><p>Ubuntu 的仓库分类：</p>
<ul>
<li>Main - Canonical 支持的<strong>自由开源软件</strong>。</li>
<li>Universe - 社区维护的<strong>自由开源软件</strong>。</li>
<li>Restricted - 设备的<strong>专有驱动</strong>程序。</li>
<li>Multiverse - 受<strong>版权或法律</strong>问题限制的软件。</li>
</ul>
<p>Debian 的仓库分类：</p>
<ul>
<li>free</li>
<li>contri</li>
<li>non-free</li>
</ul>
<h2 id="设置软件源"><a href="#设置软件源" class="headerlink" title="设置软件源"></a>设置软件源</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt edit-sources</span><br><span class="line">/etc/apt/sources.list 文件</span><br><span class="line">/etc/apt/sources.list.d 文件夹里的文件</span><br><span class="line"></span><br><span class="line">add-apt-repository --help  //用 add-apt-repository 这个命令就可以了</span><br><span class="line">sudo add-apt-repository ppa:mozillateam/ppa  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">对应deb https://ppa.launchpadcontent.net/mozillateam/ppa/ubuntu jammy main</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">默认网址https://ppa.lunchpadcontent.net，自动识别版本ubuntu jammy</span></span><br></pre></td></tr></table></figure>

<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt search  在更新缓存中搜索</span><br><span class="line">dpkg --search &lt;files&gt;  搜索该文件是由哪个软件包安装的</span><br><span class="line">apt list --installed &lt;pkg&gt;  搜索已安装软件包</span><br></pre></td></tr></table></figure>

<h2 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a>安装软件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt install</span><br><span class="line">sudo apt -f install  安装缺少的依赖</span><br><span class="line">sudo apt --fix-broken install  修复依赖的关系</span><br><span class="line">sudo apt install ./package_name.deb # 推荐用这个安装本地deb包，能自动解决依赖；dpkg不能</span><br><span class="line">-y #都选yes</span><br></pre></td></tr></table></figure>

<h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt upgrade</span><br><span class="line">apt dist-upgrade</span><br></pre></td></tr></table></figure>

<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove</span><br><span class="line">sudo apt purge</span><br><span class="line">sudo apt remove &lt;pkg&gt; --purge</span><br><span class="line">sudo apt autoremove --purge</span><br></pre></td></tr></table></figure>

<h2 id="更新ubuntu系统"><a href="#更新ubuntu系统" class="headerlink" title="更新ubuntu系统"></a>更新ubuntu系统</h2><table>
<thead>
<tr>
<th>步骤</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>指定更新 LTS 版还是普通版</td>
<td>更改 &#x2F;etc&#x2F;update-manager&#x2F;release-upgrades 里 Prompt 的选项<br />lts: 稳定版，normal: 普通版，never: 不更新</td>
</tr>
<tr>
<td>更新缓存</td>
<td>sudo apt update</td>
</tr>
<tr>
<td>更新软件</td>
<td>sudo apt dist-upgrade</td>
</tr>
<tr>
<td>更新系统</td>
<td>sudo do-release-upgrade</td>
</tr>
</tbody></table>
<h1 id="pacman"><a href="#pacman" class="headerlink" title="pacman"></a>pacman</h1><p><a target="_blank" rel="noopener" href="http://linux.51yip.com/search/pacman">pacman linux命令在线中文手册</a><br><a target="_blank" rel="noopener" href="https://hustlei.github.io/2018/11/msys2-pacman.html">pacman常用命令</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman &lt;operation&gt; [options] [targets]</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">operation 是大写，options 是小写</span></span><br></pre></td></tr></table></figure>

<h2 id="更新系统"><a href="#更新系统" class="headerlink" title="更新系统"></a>更新系统</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pacman -Sy #从服务器下载新的软件包数据库。不推荐，推荐-syu.</span><br><span class="line">pacman -Su #升级所有已安装的软件包。</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pacman 可以用一个命令就可以升级整个系统。花费的时间取决于系统有多老。这个命令会同步非本地(<span class="built_in">local</span>)软件仓库并升级系统的软件包</span></span><br><span class="line">pacman -Syyu #两个y表示强制刷新软件包数据库</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pacman只能更新全部软件，不能只更新部分软件</span></span><br></pre></td></tr></table></figure>

<h2 id="搜索程序"><a href="#搜索程序" class="headerlink" title="搜索程序"></a>搜索程序</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">远端<span class="built_in">sync</span></span></span><br><span class="line">-S, --sync：在远端软件仓库搜索</span><br><span class="line">-Q, --query：在本地搜索</span><br><span class="line"></span><br><span class="line">-s, --search：搜索单个程序名和描述. apply to -Q, -S</span><br><span class="line">-g, --gropus：搜索软件包组</span><br><span class="line">-i, --info：  Display information on a given package. The -p option can be used if querying a package file instead of the local database. Passing two --info or -i flags will also display the list of backup files and their modification states.</span><br><span class="line">-l, --list：列出内容</span><br><span class="line">-u, --sysupgrade：apply to -S</span><br><span class="line">-u, --upgrades：apply to -Q</span><br><span class="line">-t, --required：Restrict or filter output to print only packages neither required nor optionally required by any currently installed package. Specify this option twice to include packages which are optionally, but not directly, required by another package.</span><br><span class="line">-q, --quiet：减少输出内容</span><br><span class="line">-v, --verbose</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">远端search</span></span><br><span class="line">pacman -Ss 关键字   #在仓库中搜索含关键字的软件包（本地已安装的会标记）</span><br><span class="line">pacman -Sl &lt;repo&gt;  #显示软件仓库中所有软件的列表</span><br><span class="line">				   #可以省略，通常这样用 pacman -Sl | 关键字</span><br><span class="line">pacman -Sg         #列出软件仓库上所有的软件包组</span><br><span class="line">pacman -Sg 软件包组 #搜索该软件包</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">本地query（搜索）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">省略参数默认以选项显示安装的所有程序</span></span><br><span class="line">pacman -Q  软件名 #在软件包名搜索，显示软件包名称和版本</span><br><span class="line">pacman -Qs 关键字 #在软件包名和软件描述里搜，显示软件包名称和版本</span><br><span class="line">pacman -Qg 软件包 #搜索软件包组</span><br><span class="line">pacman -Qq 软件名 #搜索后显示简洁的结果</span><br><span class="line">pacman -Qi 软件名 #查看某个软件包信息，显示较为详细的信息，包括描述、构架、依赖、大小等等</span><br><span class="line">pacman -Ql 软件名 #列出软件包内所有文件，包括软件安装的每个文件、文件夹的名称和路径</span><br><span class="line"></span><br><span class="line">pacman -Qu       #列出所有可升级的软件包</span><br><span class="line">pacman -Qt       #列出不被任何软件要求的软件包</span><br></pre></td></tr></table></figure>

<h2 id="Pactree"><a href="#Pactree" class="headerlink" title="Pactree"></a>Pactree</h2><p>注意： pactree(8)不再是pacman包的一部分。它现在在pacman-contrib包中。<br>要显示软件包的依赖树：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pactree package_name</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">检查一个安装的软件包被那些包依赖，将递归标识-r传递给 pactree，或者使用 pkgtoolsAUR中的whoneeds</span></span><br></pre></td></tr></table></figure>

<h2 id="清理缓存"><a href="#清理缓存" class="headerlink" title="清理缓存"></a>清理缓存</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">清理缓存</span><br><span class="line">pacman -Sc：清理未安装的包文件，包文件位于 /var/cache/pacman/pkg/ 目录。</span><br><span class="line">pacman -Scc：清理所有的缓存文件。</span><br></pre></td></tr></table></figure>

<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pacman -S 软件名 #安装软件。也可以同时安装多个包，只需以空格分隔包名即可。</span><br><span class="line">pacman -S --needed 软件名1 软件名2 #安装软件，但不重新安装已经是最新的软件。</span><br><span class="line">pacman -Sy 软件名：安装软件前，先从远程仓库下载软件包数据库(数据库即所有软件列表)。</span><br><span class="line">pacman -Sv 软件名：在显示一些操作信息后执行安装。verbose</span><br><span class="line">pacman -Sw 软件名 #只下载软件包，不安装。</span><br><span class="line"></span><br><span class="line">pacman -U 软件名.pkg.tar.gz：安装本地软件包。</span><br><span class="line">pacman -U http://www.example.com/repo/example.pkg.tar.xz  #安装一个远程包（不在 pacman 配置的源里面）。</span><br></pre></td></tr></table></figure>

<h2 id="卸载-1"><a href="#卸载-1" class="headerlink" title="卸载"></a>卸载</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pacman -R 软件名 	#该命令将只删除包，保留其全部已经安装的依赖关系</span><br><span class="line">pacman -Rs 软件名 	#删除软件，同时删除本机上只有该软件依赖的软件。</span><br><span class="line">pacman -Rc 软件名    #删除软件，并删除所有依赖这个软件的程序，慎用</span><br><span class="line">pacman -Ru 软件名 	#删除软件,同时删除不再被任何软件所需要的依赖</span><br><span class="line">pacman -Rsunv</span><br><span class="line">pacman -Rv 软件名 	#删除软件，并显示详细的信息</span><br><span class="line"></span><br><span class="line">-s, --recursive</span><br><span class="line">-n, --nosave</span><br><span class="line">-u, --unneeded</span><br><span class="line">-c, --cascade</span><br><span class="line">-v, --verbose</span><br></pre></td></tr></table></figure>

<h1 id="yay"><a href="#yay" class="headerlink" title="yay"></a>yay</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">若yay安装失败, 执行下面命令</span></span><br><span class="line">sudo pacman -Sy archlinuxcn-keyring</span><br><span class="line">yay -R 		# 卸载软件</span><br><span class="line">yay -Rns 	# 卸载该软件及所有不必要软件</span><br><span class="line"></span><br><span class="line">yay -Ps		# 显示已安装软件包和系统健康状况的统计数据</span><br><span class="line"></span><br><span class="line">pacman -Qm	# If you&#x27;re looking for packages not installed from the main repos(ie AUR or pkgbuild), use </span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://illyber.github.io">illyber</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://illyber.github.io/2023/06/21/Linux/package-manager-notes/">https://illyber.github.io/2023/06/21/Linux/package-manager-notes/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://illyber.github.io" target="_blank">MyBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/package-manager/">package manager</a></div><div class="post_share"><div class="social-share" data-image="https://illyber-images.oss-cn-chengdu.aliyuncs.com/kuroyukihime-3.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/pluginsSrc/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="/pluginsSrc/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/06/21/Editor/vim-etc/" title="Vim etc"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vim etc</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/21/Linux/shell-and-regexp-notes/" title="Shell和正则表达式"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Shell和正则表达式</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://illyber-images.oss-cn-chengdu.aliyuncs.com/kuroyukihime-3.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">illyber</div><div class="author-info__description">学习计算机的记录</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#apt"><span class="toc-number">1.</span> <span class="toc-text">apt</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%93%E5%BA%93%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text">仓库分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="toc-number">1.2.</span> <span class="toc-text">设置软件源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2"><span class="toc-number">1.3.</span> <span class="toc-text">搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">安装软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-number">1.5.</span> <span class="toc-text">更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD"><span class="toc-number">1.6.</span> <span class="toc-text">卸载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0ubuntu%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.7.</span> <span class="toc-text">更新ubuntu系统</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pacman"><span class="toc-number">2.</span> <span class="toc-text">pacman</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.1.</span> <span class="toc-text">更新系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.2.</span> <span class="toc-text">搜索程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pactree"><span class="toc-number">2.3.</span> <span class="toc-text">Pactree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E7%BC%93%E5%AD%98"><span class="toc-number">2.4.</span> <span class="toc-text">清理缓存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.5.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD-1"><span class="toc-number">2.6.</span> <span class="toc-text">卸载</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#yay"><span class="toc-number">3.</span> <span class="toc-text">yay</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/12/C/%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B/" title="编译过程">编译过程</a><time datetime="2023-07-12T06:32:10.983Z" title="发表于 2023-07-12 14:32:10">2023-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/12/C/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%95%B4%E5%9E%8B%E5%92%8C%E6%B5%AE%E7%82%B9/" title="整型和浮点">整型和浮点</a><time datetime="2023-07-12T06:21:34.115Z" title="发表于 2023-07-12 14:21:34">2023-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/12/C/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E5%AD%97%E7%AC%A6/" title="字符">字符</a><time datetime="2023-07-12T06:21:14.586Z" title="发表于 2023-07-12 14:21:14">2023-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/12/C/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E5%AD%97%E7%AC%A6%E4%B8%B2/" title="字符串">字符串</a><time datetime="2023-07-12T06:20:27.372Z" title="发表于 2023-07-12 14:20:27">2023-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/12/C/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%95%B0%E7%BB%84/" title="数组">数组</a><time datetime="2023-07-12T06:19:09.762Z" title="发表于 2023-07-12 14:19:09">2023-07-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By illyber</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><div class="js-pjax"><script>function loadUtterances () {
  let ele = document.createElement('script')
  ele.setAttribute('id', 'utterances_comment')
  ele.setAttribute('src', 'https://utteranc.es/client.js')
  ele.setAttribute('repo', 'illyber/comments')
  ele.setAttribute('issue-term', 'url')
  let nowTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'photon-dark' : 'github-light'
  ele.setAttribute('theme', nowTheme)
  ele.setAttribute('crossorigin', 'anonymous')
  ele.setAttribute('async', 'true')
  document.getElementById('utterances-wrap').insertAdjacentElement('afterbegin',ele)
}

function utterancesTheme (theme) {
  const iframe = document.querySelector('.utterances-frame')
  if (iframe) {
    const theme = theme === 'dark' ? 'photon-dark' : 'github-light'
    const message = {
      type: 'set-theme',
      theme: theme
    };
    iframe.contentWindow.postMessage(message, 'https://utteranc.es');
  }
}

btf.addModeChange('utterances', utterancesTheme)

if ('Utterances' === 'Utterances' || !true) {
  if (true) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
  else loadUtterances()
} else {
  function loadOtherComment () {
    loadUtterances()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>