---
title: 4_variable
categories:
  - Linux
date: 2024-04-02 05:20
tags:
  - 脚本/变量
---

---


全局变量：对于子shell有效
局部变量：只对当前shell有效

## 系统预定义变量
常用系统变量
`$HOME、$PWD、$SHELL、$USER`等
显示当前Shell中所有变量: set
显示当前Shell中所有系统全局变量: env, printenv

## 用户自定义变量
1)基本语法
(1)定义变量: 变量名=变量值，注意，=号前后不能有空格
(2)撤销变量: unset 变量名
(3)声明静态变量: readonly变量，注意:不能unset
(4)声明全局变量：定义的变量都是局部变量；先定义一个普通变量，再用export命令提升。在子shell更改全局变量不会影响父shell
(5)声明只读变量：readonly b=5. 只读变量不能unset
2)变量定义规则
(1)变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。
(2)等号两侧不能有空格
(3)在bash中，变量默认类型都是字符串类型，无法直接进行数值运算
(4)变量的值如果有空格，需要使用双引号或单引号括起来。

## 特殊变量
```shell
$n: n为数字，$0代表该脚本名称，$1-$9代表第一到第九个参数，十以上的参数需要用大括号包含，如${10}
$#: 获取所有输入参数个数，常用于循环，判断参数的个数是否正确以及加强脚本的健壮性
$*: 这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体
S@: 这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待
S?: 最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0具体是哪个数，由命令自己来决定)，则证明上一个命令执行不正确了。
```

---
