---
title: 文本处理
categories:
  - Linux
date: 2024-04-02 03:30
tags:
  - 文本处理
---

# awk
AWK的几个实现：
1. AWK:原先来源于AT&T实验室的的AWK; AT&T(American Telephone & Telegraph的缩写 是一家美国电信公司)
2. NAWK:AT&T实验室的AWK的升级版;
3. GAWK:就是GNU AWK；
4. MAWK:一种轻巧快速的AWK实现。

[简单教程 - Awk 基础教程](https://www.twle.cn/c/yufei/awk/awk-basic-index.html)

AWK 主体代码有着如下的语法
```shell
awk '/pattern/ {awk-commands}' filename
awk '/术/ {print $0}' employee.txt
```

每行按空格或 tab 分割
```shell
# 输出包含 "compiler" 的行
awk '/compiler/ ' log.txt

# 输出第二列
awk '{print $2}' log.txt

# 打印最后一列
awk '{print $NF}' log.txt
# 如果在命令表达式中使用没有$符号的NF变量，这个变量将显示一行记录中有多少个字段。
# 如果使用带有$符号的NF变量，这个变量将显示一行记录中最后一个字段。
# Number of Field

```

eg
```shell
awk 'BEGIN{printf "序号\t名字\t部门\t年龄\n----------------------------\n"}{print}END{printf "----------------------------\n"}' employee.txt
```

编辑目录，将页码减去三十，tab 为分隔符，输出到 result.txt
```shell
awk -F "\t"  '{$NF=$NF-30;print}' outline-bk.txt|less > result.txt
```



# column 命令
可以将文本结果转换为整齐的表格，上下对齐
```shell
cat /etc/passwd|sort -t ":" -nk 3|column -s ":" -t
```
`-s`: 指定分隔符
`-t`: 以表格形式输出（没有线）

# cat

-n	打印所有行号
-b	打印非空行行号
-s	多个空行合并成一个空行
-E	每行末尾加一个 $ 符号
-T	打印制表符
-A	同时实现 -E 和 -T

cat 可以同时查看多个文件

